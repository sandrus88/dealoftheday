<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" 
	xmlns:p="http://primefaces.org/ui">

	<h:form id="cityPartnerForm">
		<p:dialog widgetVar="dialogPartners" showEffect="fade" modal="true" width="1150" height="270"
		resizable="true" position="center" draggable="true">

			<f:facet name="header">
				<h:outputText value="#{msg['city.partners.title']} #{cityController.selectedCity.name}" />
			</f:facet>
		
			<p:dataTable value="#{cityController.allPartners}" var="partner" id="partnerCitiesTable" paginator="true" rows="5" rowsPerPageTemplate="5,50,100"
						 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown} Nr. Rows: #{cityController.allPartners.size()}" scrollable="true">
				<p:column width="5%" headerText="#{msg['partner.id']}" sortBy="#{partner.id}">
					<h:outputText value="#{partner.id}" />
				</p:column>

				<p:column width="15%" headerText="#{msg['partner.name']}" sortBy="#{partner.name}">
					<h:outputText value="#{partner.name}" />
				</p:column>
				
				<p:column width="15%" headerText="#{msg['partner.address']}">
					<h:outputText value="#{partner.address}" />
				</p:column>
				
				<p:column width="15%" headerText="#{msg['partner.tel']}">
					<h:outputText value="#{partner.tel}" />
				</p:column>
				
				<p:column width="15%" headerText="#{msg['partner.cell']}">
					<h:outputText value="#{partner.cell}" />
				</p:column>
				
				<p:column width="15%" headerText="#{msg['partner.email']}">
					<h:outputText value="#{partner.email}" />
				</p:column>
				
				<p:column width="15%" headerText="#{msg['partner.webSite']}">
					<h:outputText value="#{partner.webSite}" />
				</p:column>
				
				<p:column width="10%" headerText="#{msg['action.selection']}">
					<p:selectBooleanCheckbox disabled="#{partner.isDisabled(cityController.selectedCity)}" value="#{partner.checked}"/>
				</p:column>
				
				<p:column width="5%" headerText="#{msg['partner.cityId']}">
					<h:outputText value="#{partner.cityId}"/>
				</p:column>
			</p:dataTable>

			<h:panelGrid border="0" columns="2" styleClass="button center paddDiv5_10">
				<p:commandButton value="#{msg['save']}" actionListener="#{cityController.updateCityPartners(cityController.selectedCity)}" update="searchResultForm" oncomplete="PF('dialogPartners').hide()" icon="ui-icon ui-icon-disk"/>
				<p:commandButton value="#{msg['close']}" update="cityPartnerForm" oncomplete="PF('dialogPartners').hide()" icon="ui-icon ui-icon-close"/>
			</h:panelGrid>
		</p:dialog>
	</h:form>
</html>